@using System.Globalization
@using PersonalWebSite.Components
@inherits LayoutComponentBase
@inject ILocalStorageService localStorage
@inject IJSRuntime JS

<MudThemeProvider Theme="MyCustomTheme" IsDarkMode=@_isDarkMode/>
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar id="appbar" Style="align-items:flex-end" Elevation="3" Dense="true">
        <CultureSelector />
        <ThemeSelector darkModeChanged="@darkModeChanged" />
    </MudAppBar>

    <MudMainContent Style="overflow:hidden">
        @Body
    </MudMainContent>

    <MudScrollToTop Style="margin:20px; z-index:2001;">
        <MudFab Size="Size.Medium" Style="color:burlywood" IconSize="Size.Large" StartIcon="@Icons.Material.Filled.KeyboardArrowUp" />
    </MudScrollToTop>
</MudLayout>

@*Keyframes by https://animate.style/*@

@code {
    private bool _isDarkMode;

    MudTheme MyCustomTheme = new MudTheme()
        {
            Palette = new PaletteLight()
            {
                ActionDefault = Colors.Teal.Darken4,
                Primary = Colors.Teal.Lighten2,
                Secondary = Colors.Teal.Default,
                AppbarBackground = Colors.Teal.Lighten1,
                Background = Colors.Teal.Lighten5,
                Divider = Colors.Teal.Darken2,
                Surface = Colors.Teal.Lighten1

            },
            PaletteDark = new PaletteDark()
            {
                ActionDefault = Colors.BlueGrey.Darken4,
                Primary = Colors.BlueGrey.Default,
                Secondary = Colors.Grey.Default,
                AppbarBackground = Colors.BlueGrey.Darken4,
                Background = Colors.BlueGrey.Darken3,
                Divider = Colors.BlueGrey.Darken4,
                Surface = Colors.BlueGrey.Darken4
            },

            Typography = new Typography()
            {
                Default = new Default()
                {
                    FontFamily = new[] { "sans-serif" },
                    FontSize = "1.50rem",
                    FontWeight = 500,
                    LineHeight = 1.6,
                    LetterSpacing = ".0075em"
                },
                Body1 = new Body1()
                {
                    FontFamily = new[] { "sans-serif" },
                    FontSize = "1.50rem",
                    FontWeight = 500,
                    LineHeight = 1.6,
                    LetterSpacing = ".0075em"
                },
                Body2 = new Body2()
                {
                    FontFamily = new[] { "sans-serif" },
                    FontSize = "1.10rem",
                    FontWeight = 400,
                    LineHeight = 1.6,
                    LetterSpacing = ".0075em"
                }

        },

        LayoutProperties = new LayoutProperties()
        {
            DrawerWidthRight = "650px"
        }
    };

    protected override async Task OnInitializedAsync()
    {
        await JS.InvokeVoidAsync("scrollFunctionality");
    }

    private void darkModeChanged(bool isDarkMode)
    {
        _isDarkMode = isDarkMode;
    }

}